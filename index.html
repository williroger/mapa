<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mapa OpenStreetMap</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: black;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        #map {
            width: 600px;
            height: 600px;
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.css" integrity="sha512-Zcn6bjR/8RZbLEpLIeOwNtzREBAJnUKESxces60Mpoj+2okopSAcSUIUOseddDm0cxnGQzxIR7vJgsLZbdLE3w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>

<div id="map"></div>
<br>
<div id="placar">PONTOS 00</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.js" integrity="sha512-BwHfrr4c9kmRkLw6iXFdzcdWV/PGkVgiIyIWLLlTSXzWQzxuSg4DiQUCpauz/EWjgk5TYQqX/kvn9pG1NpYfqg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script>
    // Coordenadas do marcador
    var markerCoordinates = [-23.5606, -46.7293];

    // Criação do mapa
    var mymap = L.map('map',  {minZoom: 15, maxZoom: 18}).setView(markerCoordinates, 13);

    // Adição da camada do OpenStreetMap
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '© OpenStreetMap contributors'
    }).addTo(mymap);

    let customIcon = {
        iconUrl:"capivara.png",
        iconSize:[40,40]
    };
    let myIcon = L.icon(customIcon);

    let iconOptions = {
    title:"company name",
    draggable:true,
    icon:myIcon
    }

    // Adição do marcador arrastável
    var marker = L.marker(markerCoordinates, iconOptions).addTo(mymap);

    // Localização da foto
    var queroLat = -23.559837029101224
    var queroLng = -46.72113597393036

    // Evento para atualizar as coordenadas quando o marcador é arrastado
    marker.on('dragend', function(event){
        var position = marker.getLatLng();
        var lat = position.lat;
        var lng = position.lng;
    //diferença
        var diferencaLat = (Math.abs(lat-queroLat)*1000)+1
        var diferencaLng = (Math.abs(lng-queroLng)*1000)+1
        console.log("PONTOS", (10/((diferencaLng+diferencaLat)/2)).toFixed(2))
    });
    //CENTRAL = -23.559837029101224 -46.72113597393036
</script>

</body>
</html>
